<!--
	Travel Experts: The Website
	Registration Page
	
	Group: Ivan, Muhammad, Steven, Tom
	Page Author: Tom Hollis

	GLOBAL TODO: finish or clear all other todos
-->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
		
		<link rel="stylesheet" href="mystyle.css" />
		<link rel="stylesheet" href="register.css" />

		<title>Travel Experts</title>	

		<!-- Scripts for this page only -->
		<script src="register.js"></script>
			
		<!-- @TODO: onblur to fix data formatting on phone number and postal code		
		     @TODO: implement bootstrap as much as possible	-->
	</head>
	
	<body class="container-fluid">
		<%- include('navbar'); -%>
		<main class="row">
			<!-- @TODO: change this to a single div that gets placed near (but NOT over) the focused field
						can the "article" tag be col-8 and still float in the middle with 2 col spacing on the sides? -->
			<aside class="col-2">
				<p id="CustFirstNamedesc">First name or given name. Either this or a last name is required.</p>
				<p id="CustLastNamedesc">Last name or family name.  Either this or a first name is required.</p>
				<p id="CustUsernamedesc">User name: Anything that won't crash the database!</p>
				<p id="CustHomePhonedesc">Your home phone number - North American numbers only as in 555-555-5555</p>
				<p id="CustBusPhonedesc">Your work phone number - North American numbers only as in 555-555-5555</p>
				<p id="CustEmaildesc">Your email address, in the format name@domain.com</p>
				<p id="CustAddressdesc">Your street address</p>
				<p id="CustCitydesc">The city where you live, within Canada</p>
				<p id="CustPostaldesc">Your Canadian postal code, in the format A1A 1A1</p>
				<p id="CustPassworddesc">Your password: [password requirements]</p>
				<p id="CustPassword2desc">Confirm your password: it must match the one above</p>
			</aside>

			<article class="col-8">
				<h2 class="artitle">Register for Service</h2>
				<form method="post" action="http://localhost:8027/regform">
					<fieldset>
						<legend>What to Call You:</legend>
						<div class="formline"><!-- @TODO: confirm whether both names are a business requirement -->
							<label for="CustFirstName">First Name:</label> 
							<input type="text" name="CustFirstName" id="CustFirstName" placeholder="Sam" required="required" 
							        onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
							<label for="CustLastName">Last Name:</label> 
							<input type="text" name="CustLastName" id="CustLastName" placeholder="Doe" required="required" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
						</div>
						<div class="formline">
							<label for="CustUsername">Username:</label> 
							<input type="text" name="CustUsername" id="CustUsername" placeholder="SamDoe1234" required="required" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
							<!-- @TODO: future - make sure username isn't already taken -->
						</div>
					</fieldset>
					<fieldset>
						<legend>How to Contact You:</legend>
						<div class="formline"><!-- @TODO: server side, store all phone numbers in a consistent way. Note that work phone may have an extension. -->
							<label for="CustHomePhone">Home Phone:</label> 
							<input type="text" name="CustHomePhone" id="CustHomePhone" placeholder="587-555-5555" required="required" 
									pattern="^1?\D*\d{3}\D*\d{3}\D*\d{4}$" title="Please enter a valid North American phone number" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
							<label for="CustBusPhone">Work Phone:</label> 
							<input type="text" name="CustBusPhone" id="CustBusPhone" placeholder="403-555-5555" pattern="^1?\D*\d{3}\D*\d{3}\D*\d{4}$" 
									title="Please enter a valid North American phone number" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" required="required" />
						</div>
						<div class="formline">					
							<label for="CustEmail">Email:</label> 
							<input type="text" name="CustEmail" id="CustEmail" placeholder="sam.doe@email.com" required="required" 
									pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" title="Please enter a valid email address" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" required="required" />
								<!-- email regexp pattern from W3Schools -->
						</div>
					</fieldset>
					<fieldset>
						<legend>Where You Are:</legend><!-- @TODO: should these be required? what does the business say? -->
						<div class="formline">	
							<label for="CustAddress">Street Address:</label> <input type="text" name="CustAddress" id="CustAddress" required="required" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
						</div>
						<div class="formline">	
							<label for="CustCity">City:</label> 
							<input type="text" name="CustCity" id="CustCity" onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';"  required="required" />
							<label for="CustProv">Province:</label> <!-- @TODO: If required, Validate that they didn't leave it on "select a province" -->
							<select name="CustProv" id="CustProv" required="required" >
								<option value="">Select a Province</option>
								<option value="AB">Alberta</option>
								<option value="BC">British Columbia</option>
								<option value="MB">Manitoba</option>
								<option value="NB">New Brunswick</option>
								<option value="NL">Newfoundland &amp; Labrador</option>
								<option value="NT">Northwest Territories</option>
								<option value="NS">Nova Scotia</option>
								<option value="NU">Nunavut</option>
								<option value="ON">Ontario</option>
								<option value="PE">Prince Edward Island</option>
								<option value="QC">Quebec</option>
								<option value="SK">Saskatchewan</option>
								<option value="YT">Yukon</option>
							</select>
							<label for="CustPostal">Postal Code:</label> 
							<input type="text" name="CustPostal" id="CustPostal" placeholder="A1A 1A1" required="required" 
									pattern="^[abceghj-nprstvxyABCEGHJ-NPRSTVXY]\d[abceghj-nprstv-zABCEGHJ-NPRSTV-Z] ?\d[abceghj-nprstv-zABCEGHJ-NPRSTV-Z]\d$" 
									title="Please enter a valid Canadian postal code" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
						</div>						
					</fieldset>
					<fieldset> <!-- @TODO: compare passwords, they must match. Any pattern requirements? -->
						<legend>Create a Password:</legend>
						<div class="formline">	
							<label for="CustPassword">Password:</label> 
							<input type="password" name="CustPassword" id="CustPassword" required="required" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
						</div>
						<div class="formline">	
							<label for="CustPassword2">Confirm Password:</label> 
							<input type="password" id="CustPassword2" required="required" 
									onfocus="document.getElementById(this.id + 'desc').style.visibility = 'visible';" 
									onblur="document.getElementById(this.id + 'desc').style.visibility = 'hidden';" />
						</div>
					</fieldset>
					<div class="formline">
						<label for="terms" class="terms">I agree to the terms and conditions:</label> 
						<input type="checkbox" id="terms" value="y" required="required" />
					</div>
					<input type="submit" value="Create Account" onclick="return confirmPress('submit');" />
					<input type="reset" value="Reset Form" onclick="return confirmPress('reset');" />
				</form>
			</article>
		</main>
		<footer class="row">
		  <p> &copy; 2019 Travel Experts</p>
		</footer>
	</body>
</html>